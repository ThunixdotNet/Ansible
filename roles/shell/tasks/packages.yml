# Install our baseline packages for all machines, irrespective of what role they might have
---
- name: Add weechat repo
  apt_repository: 
    repo: 'deb https://weechat.org/debian stretch main' 
    state: present
    filename: weechat
    update_cache: yes

- name: Install baseline packages
  apt: 
    name: "{{ packages }}"
    state: present
    update_cache: yes
  vars:
    packages:
      - vim
      - alpine
      - weechat
      - mutt
      - python
      - rtv
      - lynx
      - w3m-img
      - python-pip
      - cowsay
      - byobu
      - bsdgames
      - emacs
      - elinks
      - pandoc
      - python-certbot-apache
      - zsh
      - mosh
      - exim4
      - htop
      - libsdl1.2-dev
      - php7.0
      - libapache2-mod-php7.0
      - php7.0-mysql
      - php7.0-curl
      - php7.0-gd
      - php7.0-intl
      - php-pear
      - php-imagick
      - php7.0-imap
      - php7.0-mcrypt
      - php-memcache
      - php7.0-pspell
      - php7.0-recode
      - php7.0-sqlite3
      - php7.0-tidy
      - php7.0-xmlrpc
      - php7.0-xsl
      - tcl

- name: Install locally created bins
  copy:
    src: ../files/chat
    dest: /usr/local/bin
    owner: root
    group: root
    mode: 0755
